#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПередЗаписью(Отказ)
	
	Если Не (ЭтоГруппа Или ОбменДанными.Загрузка) Тогда
		
		Заголовок = НСтр("ru = 'Запись элемента справочника '") + Ссылка;
		// Проверить заполнение ТЧ
		ПроверитьЗаполнениеТабличнойЧастиОповещаемыеЛица(Отказ, Заголовок);
		
	КонецЕсли; 
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции
// Проверяет правильность заполнения строк табличной части "ОповещаемыеЛица".
//
// Параметры:
//  Отказ                   - флаг отказа в проведении.
//  Заголовок               - строка, заголовок сообщения об ошибке проведения.
//
Процедура ПроверитьЗаполнениеТабличнойЧастиОповещаемыеЛица(Отказ, Заголовок)

	// Укажем, что надо проверить:
	СтруктураОбязательныхПолей = Новый Структура("АдресЭлектроннойПочты");
	
	// Вызовем общую процедуру проверки.
	торо_ЗаполнениеДокументов.ПроверитьЗаполнениеТабличнойЧасти(ЭтотОбъект, "ОповещаемыеЛица", СтруктураОбязательныхПолей, Отказ, Заголовок);
	
КонецПроцедуры // ПроверитьЗаполнениеТабличнойЧастиОповещаемыеЛица()

#КонецОбласти

#КонецЕсли